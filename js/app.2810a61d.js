(function(){"use strict";var e={317:function(e,t,a){var n=a(471),r=function(){var e=this,t=e._self._c;return t("v-app",[t("v-app-bar",{attrs:{app:"",color:"primary",dark:"",elevation:"2"}},[t("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!e.drawer}}}),t("v-toolbar-title",[e._v("Task Management")]),t("v-spacer"),t("v-btn",{attrs:{icon:"",title:"light"===e.theme?"Switch to Dark Mode":"Switch to Light Mode"},on:{click:e.toggleTheme}},[t("v-icon",[e._v(" "+e._s("light"===e.theme?"mdi-weather-night":"mdi-weather-sunny")+" ")])],1),e.isAuthenticated?t("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:n}){return[t("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",n,!1),a),[t("v-avatar",{attrs:{size:"32"}},[e.user.photoURL?t("v-img",{attrs:{src:e.user.photoURL}}):t("v-icon",[e._v("mdi-account")])],1)],1)]}}])},[t("v-list",[t("v-list-item",[t("v-list-item-content",[t("v-list-item-title",[e._v(" "+e._s(e.user.displayName||e.user.email)+" ")]),t("v-list-item-subtitle",[e._v(e._s(e.user.email))])],1)],1),t("v-divider"),t("v-list-item",{on:{click:e.toggleTheme}},[t("v-list-item-icon",[t("v-icon",[e._v(" "+e._s("light"===e.theme?"mdi-weather-night":"mdi-weather-sunny")+" ")])],1),t("v-list-item-title",[e._v(" "+e._s("light"===e.theme?"Dark Mode":"Light Mode")+" ")])],1),t("v-list-item",{on:{click:e.logout}},[t("v-list-item-icon",[t("v-icon",[e._v("mdi-logout")])],1),t("v-list-item-title",[e._v("Logout")])],1)],1)],1):t("v-btn",{attrs:{text:""},on:{click:function(t){return e.$router.push("/login")}}},[e._v(" Login ")])],1),t("v-navigation-drawer",{attrs:{app:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[t("v-list",e._l(e.menuItems,function(a){return t("v-list-item",{key:a.title,attrs:{to:a.to,link:""}},[t("v-list-item-icon",[t("v-icon",[e._v(e._s(a.icon))])],1),t("v-list-item-content",[t("v-list-item-title",[e._v(e._s(a.title))])],1)],1)}),1)],1),t("v-main",[t("router-view")],1),t("v-footer",{attrs:{app:""}},[t("span",[e._v("Â© "+e._s((new Date).getFullYear())+" Task Management App")])])],1)},i=[],o=a(353),s={name:"App",data(){return{drawer:!1}},computed:{...(0,o.L8)(["isAuthenticated","user"]),...(0,o.L8)("ui",["theme"]),menuItems(){return this.isAuthenticated?[{title:"Dashboard",icon:"mdi-view-dashboard",to:"/"},{title:"My Tasks",icon:"mdi-format-list-checks",to:"/tasks"},{title:"Teams",icon:"mdi-account-group",to:"/teams"},{title:"Profile",icon:"mdi-account",to:"/profile"}]:[{title:"Login",icon:"mdi-login",to:"/login"}]}},methods:{...(0,o.i0)(["logout"]),...(0,o.i0)("ui",["toggleTheme"])},mounted(){this.$vuetify.theme.dark="dark"===this.theme},watch:{theme(e){this.$vuetify.theme.dark="dark"===e}}},c=s,d=a(656),u=(0,d.A)(c,r,i,!1,null,null,null),l=u.exports,m=a(173),h=a(556);const p={user:null,loading:!1,error:null},f={isAuthenticated:e=>!!e.user,user:e=>e.user,loading:e=>e.loading,error:e=>e.error},E={SET_USER(e,t){e.user=t},SET_LOADING(e,t){e.loading=t},SET_ERROR(e,t){e.error=t},CLEAR_ERROR(e){e.error=null}},g={async signUp({commit:e},{email:t,password:a,displayName:n}){try{e("SET_LOADING",!0),e("CLEAR_ERROR");const r=await h.j2.createUserWithEmailAndPassword(t,a),i=r.user;await i.updateProfile({displayName:n}),await h.db.collection("users").doc(i.uid).set({uid:i.uid,email:i.email,displayName:n,photoURL:i.photoURL,createdAt:new Date,lastLoginAt:new Date}),e("SET_USER",i),P.push("/")}catch(r){throw e("SET_ERROR",r.message),r}finally{e("SET_LOADING",!1)}},async signIn({commit:e},{email:t,password:a}){try{e("SET_LOADING",!0),e("CLEAR_ERROR");const n=await h.j2.signInWithEmailAndPassword(t,a),r=n.user;await h.db.collection("users").doc(r.uid).update({lastLoginAt:new Date}),e("SET_USER",r),P.push("/")}catch(n){throw e("SET_ERROR",n.message),n}finally{e("SET_LOADING",!1)}},async signInWithGoogle({commit:e}){try{e("SET_LOADING",!0),e("CLEAR_ERROR");const t=new h.j2.GoogleAuthProvider,a=await h.j2.signInWithPopup(t),n=a.user,r=await h.db.collection("users").doc(n.uid).get();r.exists?await h.db.collection("users").doc(n.uid).update({lastLoginAt:new Date}):await h.db.collection("users").doc(n.uid).set({uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL,createdAt:new Date,lastLoginAt:new Date}),e("SET_USER",n),P.push("/")}catch(t){throw e("SET_ERROR",t.message),t}finally{e("SET_LOADING",!1)}},async logout({commit:e}){try{await h.j2.signOut(),e("SET_USER",null),P.push("/login")}catch(t){throw e("SET_ERROR",t.message),t}},async initAuth({commit:e}){return new Promise(t=>{h.j2.onAuthStateChanged(a=>{e("SET_USER",a),t(a)})})}};var R={namespaced:!0,state:p,getters:f,mutations:E,actions:g};const T={tasks:[],loading:!1,error:null,filters:{status:"all",assignee:"all",priority:"all"}},A={tasks:e=>e.tasks,loading:e=>e.loading,error:e=>e.error,filters:e=>e.filters,filteredTasks:e=>{let t=e.tasks;return"all"!==e.filters.status&&(t=t.filter(t=>t.status===e.filters.status)),"all"!==e.filters.assignee&&(t=t.filter(t=>t.assigneeId===e.filters.assignee)),"all"!==e.filters.priority&&(t=t.filter(t=>t.priority===e.filters.priority)),t.sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt))},tasksByStatus:e=>{const t=["todo","in-progress","review","done"];return t.reduce((t,a)=>(t[a]=e.tasks.filter(e=>e.status===a),t),{})}},_={SET_TASKS(e,t){e.tasks=t},ADD_TASK(e,t){e.tasks.push(t)},UPDATE_TASK(e,t){const a=e.tasks.findIndex(e=>e.id===t.id);-1!==a&&e.tasks.splice(a,1,t)},DELETE_TASK(e,t){e.tasks=e.tasks.filter(e=>e.id!==t)},SET_LOADING(e,t){e.loading=t},SET_ERROR(e,t){e.error=t},SET_FILTERS(e,t){e.filters={...e.filters,...t}},CLEAR_ERROR(e){e.error=null}},w={async fetchTasks({commit:e,rootGetters:t}){try{e("SET_LOADING",!0),e("CLEAR_ERROR");const a=t["auth/user"]?.uid;if(!a)return;const n=await h.db.collection("tasks").where("teamId","in",await b(a)).orderBy("createdAt","desc").get(),r=n.docs.map(e=>({id:e.id,...e.data()}));e("SET_TASKS",r)}catch(a){e("SET_ERROR",a.message)}finally{e("SET_LOADING",!1)}},async createTask({commit:e,rootGetters:t},a){try{e("CLEAR_ERROR");const n=t["auth/user"]?.uid;if(!n)throw new Error("User not authenticated");const r={...a,createdBy:n,createdAt:new Date,updatedAt:new Date,status:"todo",priority:a.priority||"medium"},i=await h.db.collection("tasks").add(r),o={id:i.id,...r};return e("ADD_TASK",o),o}catch(n){throw e("SET_ERROR",n.message),n}},async updateTask({commit:e},{taskId:t,updates:a}){try{e("CLEAR_ERROR"),await h.db.collection("tasks").doc(t).update({...a,updatedAt:new Date});const n={id:t,...a};return e("UPDATE_TASK",n),n}catch(n){throw e("SET_ERROR",n.message),n}},async deleteTask({commit:e},t){try{e("CLEAR_ERROR"),await h.db.collection("tasks").doc(t).delete(),e("DELETE_TASK",t)}catch(a){throw e("SET_ERROR",a.message),a}},async moveTask({commit:e},{taskId:t,newStatus:a,newOrder:n}){try{e("CLEAR_ERROR");const r={status:a,order:n,updatedAt:new Date};await h.db.collection("tasks").doc(t).update(r);const i={id:t,...r};e("UPDATE_TASK",i)}catch(r){throw e("SET_ERROR",r.message),r}},setFilters({commit:e},t){e("SET_FILTERS",t)},async subscribeToTasks({commit:e,rootGetters:t}){const a=t["auth/user"]?.uid;if(!a)return;const n=await b(a);return h.db.collection("tasks").where("teamId","in",n).orderBy("createdAt","desc").onSnapshot(t=>{const a=t.docs.map(e=>({id:e.id,...e.data()}));e("SET_TASKS",a)},t=>{e("SET_ERROR",t.message)})}};async function b(e){const t=await h.db.collection("teams").where("members","array-contains",e).get();return t.docs.map(e=>e.id)}var v={namespaced:!0,state:T,getters:A,mutations:_,actions:w};const y={teams:[],currentTeam:null,loading:!1,error:null},S={teams:e=>e.teams,currentTeam:e=>e.currentTeam,loading:e=>e.loading,error:e=>e.error,userTeams:(e,t,a,n)=>{const r=n["auth/user"]?.uid;return r?e.teams.filter(e=>e.members.includes(r)||e.createdBy===r):[]}},O={SET_TEAMS(e,t){e.teams=t},ADD_TEAM(e,t){e.teams.push(t)},UPDATE_TEAM(e,t){const a=e.teams.findIndex(e=>e.id===t.id);-1!==a&&e.teams.splice(a,1,t)},DELETE_TEAM(e,t){e.teams=e.teams.filter(e=>e.id!==t)},SET_CURRENT_TEAM(e,t){e.currentTeam=t},SET_LOADING(e,t){e.loading=t},SET_ERROR(e,t){e.error=t},CLEAR_ERROR(e){e.error=null}},k={async fetchTeams({commit:e,rootGetters:t}){try{e("SET_LOADING",!0),e("CLEAR_ERROR");const a=t["auth/user"]?.uid;if(!a)return;const n=await h.db.collection("teams").where("members","array-contains",a).get(),r=n.docs.map(e=>({id:e.id,...e.data()}));e("SET_TEAMS",r)}catch(a){e("SET_ERROR",a.message)}finally{e("SET_LOADING",!1)}},async createTeam({commit:e,rootGetters:t},a){try{e("CLEAR_ERROR");const n=t["auth/user"]?.uid;if(!n)throw new Error("User not authenticated");const r={...a,createdBy:n,members:[n],createdAt:new Date,updatedAt:new Date},i=await h.db.collection("teams").add(r),o={id:i.id,...r};return e("ADD_TEAM",o),o}catch(n){throw e("SET_ERROR",n.message),n}},async updateTeam({commit:e},{teamId:t,updates:a}){try{e("CLEAR_ERROR"),await h.db.collection("teams").doc(t).update({...a,updatedAt:new Date});const n={id:t,...a};return e("UPDATE_TEAM",n),n}catch(n){throw e("SET_ERROR",n.message),n}},async deleteTeam({commit:e},t){try{e("CLEAR_ERROR"),await h.db.collection("teams").doc(t).delete(),e("DELETE_TEAM",t)}catch(a){throw e("SET_ERROR",a.message),a}},async addMemberToTeam({commit:e,dispatch:t},{teamId:a,memberEmail:n}){try{e("CLEAR_ERROR");const r=await h.db.collection("users").where("email","==",n).get();if(r.empty)throw new Error("User not found");const i=r.docs[0],o=i.id,s=await h.db.collection("teams").doc(a).get(),c=s.data();if(c.members.includes(o))throw new Error("User is already a member of this team");await h.db.collection("teams").doc(a).update({members:[...c.members,o],updatedAt:new Date}),await t("fetchTeams")}catch(r){throw e("SET_ERROR",r.message),r}},async removeMemberFromTeam({commit:e,dispatch:t},{teamId:a,userId:n}){try{e("CLEAR_ERROR");const r=await h.db.collection("teams").doc(a).get(),i=r.data(),o=i.members.filter(e=>e!==n);await h.db.collection("teams").doc(a).update({members:o,updatedAt:new Date}),await t("fetchTeams")}catch(r){throw e("SET_ERROR",r.message),r}},setCurrentTeam({commit:e},t){e("SET_CURRENT_TEAM",t)},async subscribeToTeams({commit:e,rootGetters:t}){const a=t["auth/user"]?.uid;if(a)return h.db.collection("teams").where("members","array-contains",a).onSnapshot(t=>{const a=t.docs.map(e=>({id:e.id,...e.data()}));e("SET_TEAMS",a)},t=>{e("SET_ERROR",t.message)})}};var D={namespaced:!0,state:y,getters:S,mutations:O,actions:k};const L={sidebar:!0,theme:localStorage.getItem("theme")||"light",notifications:[],loading:!1},I={sidebar:e=>e.sidebar,theme:e=>e.theme,notifications:e=>e.notifications,loading:e=>e.loading},C={TOGGLE_SIDEBAR(e){e.sidebar=!e.sidebar},SET_SIDEBAR(e,t){e.sidebar=t},SET_THEME(e,t){e.theme=t,localStorage.setItem("theme",t)},ADD_NOTIFICATION(e,t){e.notifications.push({id:Date.now(),...t})},REMOVE_NOTIFICATION(e,t){e.notifications=e.notifications.filter(e=>e.id!==t)},SET_LOADING(e,t){e.loading=t}},N={toggleSidebar({commit:e}){e("TOGGLE_SIDEBAR")},setSidebar({commit:e},t){e("SET_SIDEBAR",t)},setTheme({commit:e},t){e("SET_THEME",t)},toggleTheme({commit:e,state:t}){const a="light"===t.theme?"dark":"light";e("SET_THEME",a)},addNotification({commit:e},t){e("ADD_NOTIFICATION",t)},removeNotification({commit:e},t){e("REMOVE_NOTIFICATION",t)},setLoading({commit:e},t){e("SET_LOADING",t)}};var F={namespaced:!0,state:L,getters:I,mutations:C,actions:N};n.Ay.use(o.Ay);var G=new o.Ay.Store({modules:{auth:R,tasks:v,teams:D,ui:F},strict:!1});n.Ay.use(m.Ay);const M=[{path:"/",name:"Dashboard",component:()=>a.e(16).then(a.bind(a,16)),meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:()=>a.e(730).then(a.bind(a,730)),meta:{requiresGuest:!0}},{path:"/register",name:"Register",component:()=>a.e(121).then(a.bind(a,121)),meta:{requiresGuest:!0}},{path:"/tasks",name:"Tasks",component:()=>a.e(136).then(a.bind(a,136)),meta:{requiresAuth:!0}},{path:"/teams",name:"Teams",component:()=>a.e(503).then(a.bind(a,503)),meta:{requiresAuth:!0}},{path:"/profile",name:"Profile",component:()=>a.e(337).then(a.bind(a,337)),meta:{requiresAuth:!0}},{path:"*",redirect:"/"}],U=new m.Ay({mode:"history",base:"/task-management-app/",routes:M});U.beforeEach(async(e,t,a)=>{const n=e.matched.some(e=>e.meta.requiresAuth),r=e.matched.some(e=>e.meta.requiresGuest),i=G.getters["auth/isAuthenticated"];n&&!i?a("/login"):r&&i?a("/"):a()});var P=U,j=a(462);n.Ay.use(j.A);var B=new j.A({theme:{dark:!1,themes:{light:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107",background:"#FAFAFA",surface:"#FFFFFF"},dark:{primary:"#2196F3",secondary:"#424242",accent:"#FF4081",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107",background:"#121212",surface:"#1E1E1E"}}},icons:{iconfont:"mdi"}}),x=(a(301),a(64));n.Ay.config.productionTip=!1,n.Ay.use(x.Ay,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),new n.Ay({router:P,store:G,vuetify:B,render:e=>e(l)}).$mount("#app")},556:function(e,t,a){a.d(t,{db:function(){return c},j2:function(){return s}});var n=a(988),r=a(223),i=a(210);a(701),a(611),a(889);const o={apiKey:"AIzaSyDuIV4ObYFC6i9gJCOuwSqk4gRwYJ6p65E",authDomain:"task-management-app-32eee.firebaseapp.com",projectId:"task-management-app-32eee",storageBucket:"task-management-app-32eee.firebasestorage.app",messagingSenderId:"943276672402",appId:"1:943276672402:web:f4fed964ef4dd0359b6d4b",measurementId:"G-RG4DCEMK43"};n.A.initializeApp(o);const s=n.A.auth(),c=n.A.firestore(),d=(n.A.functions(),(0,r.Wp)(o));(0,i.P5)(d);c.enablePersistence().catch(e=>{"failed-precondition"===e.code?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):"unimplemented"===e.code&&console.warn("The current browser does not support all features required for persistence")})}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,i){if(!n){var o=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],i=e[u][2];for(var s=!0,c=0;c<n.length;c++)(!1&i||o>=i)&&Object.keys(a.O).every(function(e){return a.O[e](n[c])})?n.splice(c--,1):(s=!1,i<o&&(o=i));if(s){e.splice(u--,1);var d=r();void 0!==d&&(t=d)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,r,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce(function(t,n){return a.f[n](e,t),t},[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{16:"76d3991f",121:"c9d0470b",136:"5e206425",337:"0d08f75c",503:"825120b1",730:"b1244913"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+e+"."+{121:"c2f69b06",136:"369b3c3d",503:"de49b4c4",730:"25f7ce52"}[e]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="task-management-app:";a.l=function(n,r,i,o){if(e[n])e[n].push(r);else{var s,c;if(void 0!==i)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var l=d[u];if(l.getAttribute("src")==n||l.getAttribute("data-webpack")==t+i){s=l;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[r];var m=function(t,a){s.onerror=s.onload=null,clearTimeout(h);var r=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach(function(e){return e(a)}),t)return t(a)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/task-management-app/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,r,i){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",a.nc&&(o.nonce=a.nc);var s=function(a){if(o.onerror=o.onload=null,"load"===a.type)r();else{var n=a&&a.type,s=a&&a.target&&a.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+s+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=n,c.request=s,o.parentNode&&o.parentNode.removeChild(o),i(c)}};return o.onerror=o.onload=s,o.href=t,n?n.parentNode.insertBefore(o,n.nextSibling):document.head.appendChild(o),o},t=function(e,t){for(var a=document.getElementsByTagName("link"),n=0;n<a.length;n++){var r=a[n],i=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===e||i===t))return r}var o=document.getElementsByTagName("style");for(n=0;n<o.length;n++){r=o[n],i=r.getAttribute("data-href");if(i===e||i===t)return r}},n=function(n){return new Promise(function(r,i){var o=a.miniCssF(n),s=a.p+o;if(t(o,s))return r();e(n,s,null,r,i)})},r={524:0};a.f.miniCss=function(e,t){var a={121:1,136:1,503:1,730:1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=n(e).then(function(){r[e]=0},function(t){throw delete r[e],t}))}}}(),function(){var e={524:0};a.f.j=function(t,n){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(function(a,n){r=e[t]=[a,n]});n.push(r[2]=i);var o=a.p+a.u(t),s=new Error,c=function(n){if(a.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}};a.l(o,c,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,o=n[0],s=n[1],c=n[2],d=0;if(o.some(function(t){return 0!==e[t]})){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(c)var u=c(a)}for(t&&t(n);d<o.length;d++)i=o[d],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(u)},n=self["webpackChunktask_management_app"]=self["webpackChunktask_management_app"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],function(){return a(317)});n=a.O(n)})();
//# sourceMappingURL=app.2810a61d.js.map